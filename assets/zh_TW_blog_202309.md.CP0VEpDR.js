import{_ as s,c as i,o as a,a2 as t}from"./chunks/framework.DelpVO1z.js";const g=JSON.parse('{"title":"2023年9月更新：合并技术栈，新样式页","description":"","frontmatter":{"title":"2023年9月更新：合并技术栈，新样式页","contributors":["jiangyangcreate","BLxcwg666"],"date":"2023-09-09T00:00:00.000Z","updated":"2023-09-09T00:00:00.000Z","categories":"功能更新","tags":["后端"]},"headers":[],"relativePath":"zh_TW/blog/202309.md","filePath":"zh_TW/blog/202309.md"}'),n={name:"zh_TW/blog/202309.md"},h=t(`<h1 id="_2023-年-9-月更新-合并技术栈-新样式页" tabindex="-1">2023 年 9 月更新：合并技术栈，新样式页 <a class="header-anchor" href="#_2023-年-9-月更新-合并技术栈-新样式页" aria-label="Permalink to &quot;2023 年 9 月更新：合并技术栈，新样式页&quot;">​</a></h1><h2 id="新的跳转样式" tabindex="-1">新的跳转样式 <a class="header-anchor" href="#新的跳转样式" aria-label="Permalink to &quot;新的跳转样式&quot;">​</a></h2><p>另外为什么一定要是https://www.travellings.cn/go.html ?</p><p>也可以是https://www.travellings.cn/coder-1024.html !</p><p>如果你使用了https://www.travellings.cn/coder-1024.html，那么你会跳转到同样使用这个样式的站点，这显然比跳转的时候弹出一个分类询问要更酷！你们使用相同的跳转页，代表你们有着一样的品味，对吧！（此功能会在 10 月 24 号正式上线）</p><p>如果你想使用 coder 跳转页，但还是想像原来一样在总成员库里随机跳转？</p><p>很简单https://www.travellings.cn/coder-1024-go.html !</p><p>现在你可以使用任意一种样式页来进行跳转，如果关于样式你忽然有了个新点子，code it and PR it！</p><h2 id="技术栈" tabindex="-1">技术栈 <a class="header-anchor" href="#技术栈" aria-label="Permalink to &quot;技术栈&quot;">​</a></h2><p>我合并了技术栈，先从博客开刀。从分支合并入了主库。</p><p>刚刚我们说到了新的样式，它是怎么实现的？</p><p>首先我们会在https://www.travellings.cn/coder-1024.html里写上获取的接口比如</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.travellings.cn/coder&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>其次我们会定期的爬取成员的站点，检测站点是否存活，是否存在开往的跳转页。我们会在判断的时候这样写：</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 示例：检测站点是否存在https://www.travellings.cn/coder-1024.html</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> selector.css(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;a[href^=&quot;https://www.travellings.cn/coder-1024.html&quot;]&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;给此站点在数据库添加标签coder&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  connect_update(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;UPDATE webs SET tag = &#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39; WHERE link=&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.format(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;coder&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, url)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  )</span></span></code></pre></div><p>最后在 api 界面这样写</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@app.get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/coder&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> get_coder_random_num</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">():</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # 随机选择1条存活，并标签为coder的数据</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    random_num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> connect(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;SELECT * FROM webs WHERE status=&#39;RUN&#39; AND tag=&#39;coder&#39; order by random() limit 1;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 返回这些数值</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: random_num[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: random_num[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: random_num[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]}</span></span></code></pre></div><p>最后，开往长期招全栈工程师，感兴趣可以联系我们。</p>`,18),p=[h];function l(e,k,r,d,E,o){return a(),i("div",null,p)}const y=s(n,[["render",l]]);export{g as __pageData,y as default};
