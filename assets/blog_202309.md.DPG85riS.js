import{_ as s,c as i,o as a,V as n}from"./chunks/framework.y2TkACM8.js";const o=JSON.parse('{"title":"2023年9月更新：合并技术栈，新样式页","description":"","frontmatter":{"title":"2023年9月更新：合并技术栈，新样式页","contributors":["jiangyangcreate","BLxcwg666"],"date":"2023-09-09T00:00:00.000Z","updated":"2023-09-09T00:00:00.000Z","categories":"功能更新","tags":["后端"]},"headers":[],"relativePath":"blog/202309.md","filePath":"blog/202309.md","lastUpdated":1708146674000}'),t={name:"blog/202309.md"},l=n(`<h1 id="_2023-年-9-月更新-合并技术栈-新样式页" tabindex="-1">2023 年 9 月更新：合并技术栈，新样式页 <a class="header-anchor" href="#_2023-年-9-月更新-合并技术栈-新样式页" aria-label="Permalink to &quot;2023 年 9 月更新：合并技术栈，新样式页&quot;">​</a></h1><h2 id="新的跳转样式" tabindex="-1">新的跳转样式 <a class="header-anchor" href="#新的跳转样式" aria-label="Permalink to &quot;新的跳转样式&quot;">​</a></h2><p>另外为什么一定要是<a href="https://www.travellings.cn/go.html" target="_blank" rel="noreferrer">https://www.travellings.cn/go.html</a> ?</p><p>也可以是<a href="https://www.travellings.cn/coder-1024.html" target="_blank" rel="noreferrer">https://www.travellings.cn/coder-1024.html</a> !</p><p>如果你使用了<a href="https://www.travellings.cn/coder-1024.html" target="_blank" rel="noreferrer">https://www.travellings.cn/coder-1024.html</a>，那么你会跳转到同样使用这个样式的站点，这显然比跳转的时候弹出一个分类询问要更酷！你们使用相同的跳转页，代表你们有着一样的品味，对吧！（此功能会在 10 月 24 号正式上线）</p><p>如果你想使用 coder 跳转页，但还是想像原来一样在总成员库里随机跳转？</p><p>很简单<a href="https://www.travellings.cn/coder-1024-go.html" target="_blank" rel="noreferrer">https://www.travellings.cn/coder-1024-go.html</a> !</p><p>现在你可以使用任意一种样式页来进行跳转，如果关于样式你忽然有了个新点子，code it and PR it！</p><h2 id="技术栈" tabindex="-1">技术栈 <a class="header-anchor" href="#技术栈" aria-label="Permalink to &quot;技术栈&quot;">​</a></h2><p>我合并了技术栈，先从博客开刀。从分支合并入了主库。</p><p>刚刚我们说到了新的样式，它是怎么实现的？</p><p>首先我们会在<a href="https://www.travellings.cn/coder-1024.html" target="_blank" rel="noreferrer">https://www.travellings.cn/coder-1024.html</a>里写上获取的接口比如</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes material-theme-lighter material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;">fetch</span><span style="--shiki-light:#90A4AE;--shiki-dark:#EEFFFF;">(</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">https://api.travellings.cn/coder</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#EEFFFF;">)</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>其次我们会定期的爬取成员的站点，检测站点是否存活，是否存在开往的跳转页。我们会在判断的时候这样写：</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes material-theme-lighter material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#545454;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 示例：检测站点是否存在https://www.travellings.cn/coder-1024.html</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">if</span><span style="--shiki-light:#90A4AE;--shiki-dark:#EEFFFF;"> selector</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;">css</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">a[href^=&quot;https://www.travellings.cn/coder-1024.html&quot;]</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">):</span></span>
<span class="line"><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;">  print</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">给此站点在数据库添加标签coder</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;">  connect_update</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">(</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">UPDATE webs SET tag = &#39;</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">{}</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">&#39; WHERE link=&#39;</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">{}</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">&#39;;</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;">format</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">coder</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;"> url</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  )</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>最后在 api 界面这样写</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes material-theme-lighter material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">@</span><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;">app</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;">get</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">/coder</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"><span style="--shiki-light:#9C3EDA;--shiki-dark:#C792EA;">def</span><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;"> get_coder_random_num</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">():</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#545454;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">   # 随机选择1条存活，并标签为coder的数据</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#EEFFFF;">    random_num </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;"> connect</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">(</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">        &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">SELECT * FROM webs WHERE status=&#39;RUN&#39; AND tag=&#39;coder&#39; order by random() limit 1;</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">    )[</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">0</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">]</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#545454;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    # 返回这些数值</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    return</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> {</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">id</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#90A4AE;--shiki-dark:#EEFFFF;"> random_num</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">[</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">0</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">],</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">name</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#90A4AE;--shiki-dark:#EEFFFF;"> random_num</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">[</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">2</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">],</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">url</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#90A4AE;--shiki-dark:#EEFFFF;"> random_num</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">[-</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">]}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>最后，开往长期招全栈工程师，感兴趣可以联系我们。</p>`,18),h=[l];function e(p,k,r,d,D,F){return a(),i("div",null,h)}const c=s(t,[["render",e]]);export{o as __pageData,c as default};
